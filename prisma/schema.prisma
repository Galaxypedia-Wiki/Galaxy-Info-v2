generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgres"
  url      = env("prisma.db")
}

enum GalaxyShipClass {
  Admin
  Fighter
  Miner
  Freighter
  Frigate
  Destroyer
  Cruiser
  Battlecruiser
  Battleship
  Dreadnought
  Carrier
  Super_Capital
}

model Kill {
  id             BigInt   @id
  killer_id      BigInt
  killer_name    String
  killer_ship    String
  killer_class   String
  victim_id      BigInt
  victim_name    String
  victim_ship    String
  victim_class   String
  victim_cost    Int
  victim_limited Boolean
  refunded       Boolean
  nuke           Boolean
  date           DateTime
}

model User {
  name String @id
  id   BigInt
}

model Guild {
  id           BigInt   @id
  last_updated DateTime

  prefix String?

  command_ship_compact          Boolean?
  command_ship_image_size       Int?
  command_ship_detailed_enabled Boolean?
}

model Channel {
  id    BigInt @id
  guild BigInt

  commands          Boolean?
  admin_event_pings Boolean?
  dps_updates       Boolean?

  kill_log_enabled         Boolean?
  kill_log_members         Boolean?
  kill_log_custom_users    BigInt[]
  kill_log_embed           Boolean?
  kill_log_pin_limiteds    Boolean?
  kill_log_template_normal String?
  kill_log_template_nuke   String?

  kill_log_bm_kill_classes       GalaxyShipClass[]
  kill_log_limited_kill_classes  GalaxyShipClass[]
  kill_log_bm_death_classes      GalaxyShipClass[]
  kill_log_limited_death_classes GalaxyShipClass[]
}
