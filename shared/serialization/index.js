var l=Object.defineProperty;var s=e=>l(e,"__esModule",{value:!0});var u=(e,r)=>{s(e);for(var n in r)l(e,n,{get:r[n],enumerable:!0})};u(exports,{deserialize:()=>i,serialize:()=>o});function o(e){if(typeof e=="string"||typeof e=="number"||typeof e=="boolean"||e===null)return["native",e];if(Object.prototype.toString.call(e)==="[object Object]"){const r=[];for(const[n,t]of Object.entries(e))r.push([n,o(t)]);return["object",r]}else{if(Object.prototype.toString.call(e)==="[object Array]")return["array",e.map(o)];if(typeof e=="bigint")return["bigint",e.toString()];if(e instanceof Date)return["date",e.toISOString()];if(e instanceof Error)return["error",e.message??JSON.stringify(e)??e??"unknown error"];if(typeof e=="undefined")return["undefined"];throw globalThis.console&&globalThis.console.log({unserializableData:e}),new Error("data unserializable")}}const f={object(e){const r={};for(const[n,t]of e)r[n]=i(t);return r},array(e){return e.map(i)},bigint(e){return BigInt(e)},date(e){return new Date(e)},error(e){return new Error(e)},undefined(){},native(e){return e}};function i(e){if(typeof e!="object")throw new Error(`Expected serialized data to be an object. Got ${typeof e}.`);if(!e)throw new Error(`Serialized data is expected to be truthy. Data: ${e}`);return f[e[0]](e[1])}
