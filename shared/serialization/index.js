var p=Object.defineProperty;var i=t=>p(t,"__esModule",{value:!0});var y=(t,o)=>{i(t);for(var e in o)p(t,e,{get:o[e],enumerable:!0})};y(exports,{deserialize:()=>b,serialize:()=>g});function g(t){const o=[],e=[],s=[],c=[],f=[],a={};if(typeof t=="string")return{bigints:o,objects:e,arrays:s,dates:c,errors:f,data:t};for(const[n,r]of Object.entries(t))typeof r=="bigint"?(a[n]=r.toString(),o.push(n)):Object.prototype.toString.call(r)==="[object Object]"?(a[n]=g(r),e.push(n)):Object.prototype.toString.call(r)==="[object Array]"?(a[n]=r.map(g),s.push(n)):r instanceof Date?(a[n]=r.toISOString(),c.push(n)):r instanceof Error?(a[n]=r.message??JSON.stringify(r)??r??"unknown error",f.push(n)):a[n]=r;return{bigints:o,objects:e,arrays:s,dates:c,errors:f,data:a}}function b(t){if(typeof t!="object")throw new Error(`Expected serialized data to be an object. Got ${typeof t}.`);if(!t)throw new Error(`Serialized data is expected to be truthy. Data: ${t}`);for(const o of t.bigints)t.data[o]=BigInt(t.data[o]);for(const o of t.objects)t.data[o]=b(t.data[o]);for(const o of t.arrays)t.data[o]=t.data[o].map(b);for(const o of t.dates)t.data[o]=new Date(t.data[o]);for(const o of t.errors)t.data[o]=new Error(t.data[o]);return t.data}
